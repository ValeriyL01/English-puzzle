(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},122:(e,t,n)=>{e.exports=n.p+"d3c18b51945b5dcfea35.png"}},t={};function n(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var l=s.length-1;l>-1&&!e;)e=s[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{var e=n(91),t=n.n(e),s=new URL(n(122),n.b);t()(s);const l=(e,t)=>{const n=document.createElement(e);return n.classList.add(t),n};let o,a,r,i,c,d,p,u,m,v;const g=[{matrix:[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,1],[1,1,1,1,1]],leftClues:["","",5,"","",1,"","",5,"","",1,"","",5],topClues:["",1,1,1,"",3,1,1,1,1,1,1,1,1,3],name:"snake(5x5)"},{matrix:[[0,1,1,1,0],[1,1,0,1,1],[1,0,0,0,1],[1,1,0,1,1],[0,1,1,1,0]],leftClues:["","",3,"",2,2,"",1,1,"",2,2,"","",3],topClues:["","","","","","",2,1,2,"",3,2,1,2,3],name:"cross(5x5)"},{matrix:[[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0]],leftClues:["",1,1,"","",5,"",1,1,"","",5,"",1,1],topClues:["","","","","",1,"",1,"",1,1,5,1,5,1],name:"sharp(5x5)"},{matrix:[[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1]],leftClues:[1,1,1,"",1,1,1,1,1,"",1,1,1,1,1],topClues:[1,"",1,"",1,1,1,1,1,1,1,1,1,1,1],name:"shess(5x5)"},{matrix:[[1,0,1,0,1],[0,1,1,1,0],[1,1,0,1,1],[0,1,1,1,0],[1,0,1,0,1]],leftClues:[1,1,1,"","",3,"",2,2,"","",3,1,1,1],topClues:[1,"","","",1,1,"",2,"",1,1,3,2,3,1],name:"snowflake(5x5)"},{matrix:[[1,0,1,0,1],[1,1,1,1,1],[0,1,1,1,0],[0,1,0,1,0],[0,1,1,1,0]],leftClues:[1,1,1,"","",5,"","",3,"",1,1,"","",3],topClues:["","","","","","","",3,"","",2,4,1,4,2],name:"tower(5x5)"},{matrix:[[1,1,1,1,1],[1,0,1,0,1],[1,1,1,0,1],[1,0,1,0,1],[1,1,1,1,1]],leftClues:["","",5,1,1,1,"",3,1,1,1,1,"","",5],topClues:["",1,"","","","",1,"",1,"",5,1,5,1,5],name:"window(5x5)"}],x=document.querySelector("html"),f=(e,t)=>{const n=document.createElement(e);return n.classList.add(t),n},h=document.querySelector("body"),b=f("div","container"),L=f("div","victory-wrapper"),y=f("span","victory-message"),T=f("div","selected-template"),_=f("div","playing-field"),w=f("div","playing-field-container"),k=f("div","top-clues-wrapper"),C=f("div","timer"),S=f("div","playing-field-left-clues-wrapper"),E=f("div","playing-field-wrapper"),O=f("div","playing-field-left-wrapper"),I=f("div","timer-top-clues-wrapper"),A=f("div","results-wrapper"),N=f("h3","best-results");h.append(b),_.append(w),b.append(_,T,(()=>{const e=l("div","settings"),t=l("div","settings-button-wrapper");r=l("button","settings__reset"),r.classList.add("button"),i=l("button","settings__solution"),i.classList.add("button"),m=l("button","settings__continue-last-game"),m.classList.add("button"),c=l("button","settings__random-game"),c.classList.add("button"),v=l("button","settings__theme"),v.classList.add("button"),u=l("button","settings__save"),u.classList.add("button"),r.innerText="reset",d=l("button","settings__sound"),d.classList.add("button"),d.innerText="sound on",i.innerText="solution",m.innerText="continue last game",m.setAttribute("disabled","true"),c.innerText="random game",v.innerText="dark theme  ",u.innerText="save game";const n=l("form","settings__form"),s=l("label","settings__form-label");o=l("select","settings__form-select");const g=l("option","settings__form-option"),x=l("option","settings__form-option"),f=l("option","settings__form-option");s.setAttribute("for","levels"),o.setAttribute("name","levels"),s.innerText="levels",o.value="5",g.value="5",g.innerText="5x5",x.value="10",x.innerText="10x10",f.value="15",f.innerText="15x15",o.append(g,x,f);const h=l("label","settings__form-label");a=l("select","settings__form-select"),h.setAttribute("for","images"),a.setAttribute("name","images"),h.innerText="templates",a.value="0";let b=0;const L=["snake(5x5)","cross(5x5)","sharp(5x5)","shess(5x5)","snowflake(5x5)","tower(5x5)","window(5x5)","home(10x10)","home(10x10)","home(10x10)","ggg(15x15)","ggg(15x15)","ggg(15x15)","ggg(15x15)","ggg(15x15)"];for(let e=0;e<=14;e+=1)p=l("option","settings__form-option"),p.value=b,b+=1,p.innerText=L[e],a.append(p);return n.append(s,o,h,a),e.append(t,n),t.append(r,i,u,m,c,v,d),e})(),L,A),L.append(y),w.append(C,I,S),I.append(C,k),A.append(N),C.innerText="00:00",N.innerText="Best results:",T.innerText="snake(5x5)";let M,J=0,H=!0,j=!0;const P=[],$=[],q=[];let B=[],G=[],R=[],U=[];const Y=o.value;let D,F=a.value;const Q=new Audio("./assets/audio/click.wav"),z=new Audio("./assets/audio/click2.mp3"),K=new Audio("./assets/audio/click-right.mp3"),V=new Audio("./assets/audio/victory.mp3"),W=new Audio("./assets/audio/click-settings.mp3");Q.volume=0,z.volume=0,K.volume=0,V.volume=0,W.volume=0;const X=[],Z=[],ee=[];window.addEventListener("load",(()=>{D=JSON.parse(localStorage.getItem("best results"))||[],(()=>{for(let e=0;e<=4;e+=1){const t=f("div","results-element"),n=f("span","results-number"),s=f("span","results-value");A.append(t),t.append(n,s),n.innerText="".concat(e+1,"."),s.innerText=D[e],void 0===D[e]&&(s.innerText="--------------------------------------"),X.push(t),Z.push(n),ee.push(s)}})()})),(()=>{const e=JSON.parse(localStorage.getItem("clicks"));null!==e&&e.length>0&&(m.disabled=!1)})();const te=e=>{D=JSON.parse(localStorage.getItem("best results"))||[],D.push("Template ".concat(g[e].name," in ").concat(C.innerHTML," seconds.")),localStorage.setItem("best results",JSON.stringify(D)),(()=>{const e=[];for(let t=0;t<D.length;t+=1){const n=D[t].substring(D[t].indexOf(":")-2,D[t].indexOf(":")+3),[s,l]=n.split(":").map(Number),o=60*s+l;e.push(o)}D.sort(((t,n)=>{const s=D.indexOf(t),l=D.indexOf(n);return e[s]-e[l]}))})();for(let e=0;e<=4;e+=1)Z[e].innerText="".concat(e+1,"."),ee[e].innerText=D[e],void 0===D[e]&&(ee[e].innerText="--------------------------------------")};let ne=0,se=0;function le(){M=setInterval((()=>{J+=1,ne=Math.floor(J/60).toString().padStart(2,"0"),se=(J%60).toString().padStart(2,"0"),C.innerHTML="".concat(ne,":").concat(se)}),1e3)}function oe(){clearInterval(M),ne=0,se=0,J=0}const ae=e=>{for(let t=0;t<e;t+=1)for(let n=0;n<e;n+=1)P[t][n].classList.remove("cell--activ"),P[t][n].classList.remove("cell--active-cross"),P[t][n].textContent="";C.innerHTML="00:00",y.textContent="",oe()};let re=!1;((e,t)=>{const n=e[0];for(let e=0;e<t;e+=1){P[e]=[];for(let s=0;s<t;s+=1){const t=f("div","cell");t.textContent="",E.append(t),1===n.matrix[e][s]&&B.push(1),P[e][s]=t;let l=!1,o=!1;E.addEventListener("click",(a=>{a.target===t&&(t.classList.toggle("cell--activ"),U.push([e,s]),t.classList.contains("cell--activ")?Q.play():z.play(),1===n.matrix[e][s]&&(l?(G.pop(1),l=!1):(G.push(1),l=!0)),0===n.matrix[e][s]&&(o?(R.pop(1),o=!1):(R.push(1),o=!0))),B.length===G.length&&0===R.length&&0!==B.length&&0!==G.length&&(y.textContent="Great! You have solved the nonogram in ".concat(C.innerHTML," seconds!"),y.classList.add("victory-message--open"),V.play(),U=[],re||(te(0),re=!0),re=!1,oe(),B=[],G=[],R=[])}));let a=!1;t.addEventListener("contextmenu",(e=>{e.preventDefault(),a?(t.classList.remove("cell--active-cross"),a=!1):(t.classList.add("cell--active-cross"),a=!0),K.play()}))}}(e=>{for(let t=0;t<15;t+=1){const n=f("div","cell");n.textContent=e[0].topClues[t],k.append(n),$.push(n)}})(g),(e=>{for(let t=0;t<15;t+=1){const n=f("div","cell-left");O.append(n),n.textContent=e[0].leftClues[t],q.push(n)}})(g)})(g,Y),S.append(O,E);let ie=!1;const ce=e=>{for(let t=0;t<15;t+=1)$[t].textContent=g[e].topClues[t],q[t].textContent=g[e].leftClues[t];T.innerText=g[e].name,((e,t)=>{let n=[],s=[],l=[];const o=e[t];for(let e=0;e<5;e+=1)for(let a=0;a<5;a+=1){P[e][a].classList.remove("cell--activ"),P[e][a].classList.remove("cell--active-cross"),1===o.matrix[e][a]&&n.push(1);let r=!1,i=!1;E.addEventListener("click",(c=>{c.target===P[e][a]&&(1===o.matrix[e][a]&&(r?(s.pop(1),r=!1):(s.push(1),r=!0)),0===o.matrix[e][a]&&(i?(l.pop(1),i=!1):(l.push(1),i=!0))),n.length===s.length&&0===l.length&&0!==n.length&&0!==s.length&&(y.textContent="Great! You have solved the nonogram in ".concat(C.innerHTML," seconds!"),V.play(),U=[],oe(),ie||(te(t),ie=!0),ie=!1,n=[],s=[],l=[])}))}})(g,e),ae(Y)};a.addEventListener("change",(()=>{F=a.value,ce(F),E.addEventListener("click",le,{once:j},(()=>{j=!1})),W.play()})),r.addEventListener("click",(()=>{ae(Y),j=!0,E.addEventListener("click",le,{once:j},(()=>{j=!1})),W.play()})),i.addEventListener("click",(()=>{((e,t)=>{const n=e[F];for(let e=0;e<t;e+=1)for(let s=0;s<t;s+=1)P[e][s].classList.contains("cell--activ")&&P[e][s].classList.remove("cell--activ"),1===n.matrix[e][s]&&P[e][s].classList.add("cell--activ")})(g,Y),W.play()})),c.addEventListener("click",(()=>{ce((()=>{const e=Math.floor(Math.random()*g.length);return F=e,e})()),E.addEventListener("click",le,{once:j},(()=>{j=!1})),W.play()})),d.addEventListener("click",(()=>{H?(Q.volume=.4,z.volume=.4,K.volume=.4,V.volume=.4,W.volume=.4,d.innerText="sound off",H=!1):(Q.volume=0,z.volume=0,K.volume=0,V.volume=0,W.volume=0,H=!0,d.innerText="sound on"),W.play()})),E.addEventListener("click",le,{once:j},(()=>{j=!1})),u.addEventListener("click",(()=>{m.disabled=!1,localStorage.removeItem("clicks"),localStorage.setItem("game",JSON.stringify(F)),localStorage.setItem("clicks",JSON.stringify(U)),U=[],W.play()})),m.addEventListener("click",(()=>{W.play(),(()=>{F=JSON.parse(localStorage.getItem("game")),ce(F);for(const e of JSON.parse(localStorage.getItem("clicks")))P[e[0]][e[1]].classList.add("cell--activ")})()})),v.addEventListener("click",(()=>{W.play(),x.classList.contains("theme")?(x.classList.remove("theme"),v.innerText="dark theme"):(x.classList.add("theme"),v.innerText="light theme")}))})()})();