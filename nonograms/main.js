(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},122:(e,t,n)=>{e.exports=n.p+"d3c18b51945b5dcfea35.png"}},t={};function n(s){var l=t[s];if(void 0!==l)return l.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var l=s.length-1;l>-1&&!e;)e=s[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{var e=n(91),t=n.n(e),s=new URL(n(122),n.b);t()(s);const l=(e,t)=>{const n=document.createElement(e);return n.classList.add(t),n};let a,o,r,i,c,d,u,p,m,v;const g=[{matrix:[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,1],[1,1,1,1,1]],leftClues:["","",5,"","",1,"","",5,"","",1,"","",5],topClues:["",1,1,1,"",3,1,1,1,1,1,1,1,1,3],name:"snake(5x5)",units:17},{matrix:[[0,1,1,1,0],[1,1,0,1,1],[1,0,0,0,1],[1,1,0,1,1],[0,1,1,1,0]],leftClues:["","",3,"",2,2,"",1,1,"",2,2,"","",3],topClues:["","","","","","",2,1,2,"",3,2,1,2,3],name:"cross(5x5)",units:16},{matrix:[[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0]],leftClues:["",1,1,"","",5,"",1,1,"","",5,"",1,1],topClues:["","","","","",1,"",1,"",1,1,5,1,5,1],name:"sharp(5x5)",units:16},{matrix:[[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1]],leftClues:[1,1,1,"",1,1,1,1,1,"",1,1,1,1,1],topClues:[1,"",1,"",1,1,1,1,1,1,1,1,1,1,1],name:"shess(5x5)",units:13},{matrix:[[1,0,1,0,1],[0,1,1,1,0],[1,1,0,1,1],[0,1,1,1,0],[1,0,1,0,1]],leftClues:[1,1,1,"","",3,"",2,2,"","",3,1,1,1],topClues:[1,"","","",1,1,"",2,"",1,1,3,2,3,1],name:"snowflake(5x5)",units:16},{matrix:[[1,0,1,0,1],[1,1,1,1,1],[0,1,1,1,0],[0,1,0,1,0],[0,1,1,1,0]],leftClues:[1,1,1,"","",5,"","",3,"",1,1,"","",3],topClues:["","","","","","","",3,"","",2,4,1,4,2],name:"tower(5x5)",units:16},{matrix:[[1,1,1,1,1],[1,0,1,0,1],[1,1,1,0,1],[1,0,1,0,1],[1,1,1,1,1]],leftClues:["","",5,1,1,1,"",3,1,1,1,1,"","",5],topClues:["",1,"","","","",1,"",1,"",5,1,5,1,5],name:"window(5x5)",units:20}],f=document.querySelector("html"),x=(e,t)=>{const n=document.createElement(e);return n.classList.add(t),n},h=document.querySelector("body"),b=x("div","container"),L=x("div","victory-wrapper"),y=x("h3","victory-message"),T=x("div","selected-template"),_=x("div","playing-field"),S=x("div","playing-field-container"),w=x("div","top-clues-wrapper"),C=x("div","timer"),k=x("div","playing-field-left-clues-wrapper"),E=x("div","playing-field-wrapper"),O=x("div","playing-field-left-wrapper"),I=x("div","timer-top-clues-wrapper"),N=x("div","results-wrapper"),J=x("h3","best-results");h.append(b),_.append(S),b.append(_,T,(()=>{const e=l("div","settings"),t=l("div","settings-button-wrapper");r=l("button","settings__reset"),r.classList.add("button"),i=l("button","settings__solution"),i.classList.add("button"),m=l("button","settings__continue-last-game"),m.classList.add("button"),c=l("button","settings__random-game"),c.classList.add("button"),v=l("button","settings__theme"),v.classList.add("button"),p=l("button","settings__save"),p.classList.add("button"),r.innerText="reset",d=l("button","settings__sound"),d.classList.add("button"),d.innerText="sound on",i.innerText="solution",m.innerText="continue last game",m.setAttribute("disabled","true"),c.innerText="random game",v.innerText="dark theme  ",p.innerText="save game";const n=l("form","settings__form"),s=l("label","settings__form-label");a=l("select","settings__form-select");const g=l("option","settings__form-option"),f=l("option","settings__form-option"),x=l("option","settings__form-option");s.setAttribute("for","levels"),a.setAttribute("name","levels"),s.innerText="levels",a.value="5",g.value="5",g.innerText="5x5",f.value="10",f.innerText="10x10",x.value="15",x.innerText="15x15",a.append(g,f,x);const h=l("label","settings__form-label");o=l("select","settings__form-select"),h.setAttribute("for","images"),o.setAttribute("name","images"),h.innerText="templates",o.value="0";let b=0;const L=["snake(5x5)","cross(5x5)","sharp(5x5)","shess(5x5)","snowflake(5x5)","tower(5x5)","window(5x5)"];for(let e=0;e<L.length;e+=1)u=l("option","settings__form-option"),u.value=b,b+=1,u.innerText=L[e],o.append(u);return n.append(s,a,h,o),e.append(t,n),t.append(r,i,p,m,c,v,d),e})(),L,N),L.append(y),S.append(C,I,k),I.append(C,w),N.append(J),C.innerText="00:00",J.innerText="Best results:",T.innerText="snake(5x5)";let A,M=0,H=!0,j=!0,G=!1;const P=[],$=[],q=[];let B=[],R=[],U=[];const Y=a.value;let D,F=o.value;const Q=new Audio("./assets/audio/click.wav"),z=new Audio("./assets/audio/click2.mp3"),K=new Audio("./assets/audio/click-right.mp3"),V=new Audio("./assets/audio/victory.mp3"),W=new Audio("./assets/audio/click-settings.mp3");Q.volume=0,z.volume=0,K.volume=0,V.volume=0,W.volume=0;const X=[],Z=[],ee=[];window.addEventListener("load",(()=>{D=JSON.parse(localStorage.getItem("best results"))||[],(()=>{for(let e=0;e<=4;e+=1){const t=x("div","results-element"),n=x("span","results-number"),s=x("span","results-value");N.append(t),t.append(n,s),n.innerText="".concat(e+1,"."),s.innerText=D[e],void 0===D[e]&&(s.innerText="--------------------------------------"),X.push(t),Z.push(n),ee.push(s)}})()})),(()=>{const e=JSON.parse(localStorage.getItem("clicks"));null!==e&&e.length>0&&(m.disabled=!1)})();const te=e=>{D=JSON.parse(localStorage.getItem("best results"))||[],D.push("Template ".concat(g[e].name," in ").concat(C.innerHTML," seconds.")),(()=>{const e=[];for(let t=0;t<D.length;t+=1){const n=D[t].substring(D[t].indexOf(":")-2,D[t].indexOf(":")+3),[s,l]=n.split(":").map(Number),a=60*s+l;e.push(a)}D.sort(((t,n)=>{const s=D.indexOf(t),l=D.indexOf(n);return e[s]-e[l]}))})(),localStorage.setItem("best results",JSON.stringify(D));for(let e=0;e<=4;e+=1)Z[e].innerText="".concat(e+1,"."),ee[e].innerText=D[e],void 0===D[e]&&(ee[e].innerText="--------------------------------------")};let ne=0,se=0;function le(){A=setInterval((()=>{M+=1,ne=Math.floor(M/60).toString().padStart(2,"0"),se=(M%60).toString().padStart(2,"0"),C.innerHTML="".concat(ne,":").concat(se)}),1e3)}function ae(){clearInterval(A),ne=0,se=0,M=0}const oe=e=>{for(let t=0;t<e;t+=1)for(let n=0;n<e;n+=1)P[t][n].classList.remove("cell--activ"),P[t][n].classList.remove("cell--active-cross"),P[t][n].textContent="";C.innerHTML="00:00",y.textContent="",ae()};let re=!1;((e,t)=>{const n=e[0];for(let e=0;e<t;e+=1){P[e]=[];for(let s=0;s<t;s+=1){const t=x("div","cell");t.textContent="",E.append(t),P[e][s]=t;let l=!1,a=!1;E.addEventListener("click",(o=>{G=!0,o.target===t&&(t.classList.toggle("cell--activ"),t.classList.contains("cell--activ")?(Q.play(),U.push([e,s])):(z.play(),U.pop([e,s])),1===n.matrix[e][s]&&(l?(B.pop(1),l=!1):(B.push(1),l=!0)),0===n.matrix[e][s]&&(a?(R.pop(1),a=!1):(R.push(1),a=!0))),n.units===B.length&&0===R.length&&0!==n.units&&0!==B.length&&(y.textContent="Great! You have solved the nonogram in ".concat(C.innerHTML," seconds!"),y.classList.add("victory-message--open"),V.play(),U=[],re||(te(0),re=!0),re=!1,ae(),B=[],R=[])}));let o=!1;t.addEventListener("contextmenu",(e=>{e.preventDefault(),o?(t.classList.remove("cell--active-cross"),o=!1):(t.classList.add("cell--active-cross"),o=!0),K.play()}))}}(e=>{for(let t=0;t<15;t+=1){const n=x("div","cell");n.textContent=e[0].topClues[t],w.append(n),$.push(n)}})(g),(e=>{for(let t=0;t<15;t+=1){const n=x("div","cell-left");O.append(n),n.textContent=e[0].leftClues[t],q.push(n)}})(g)})(g,Y),k.append(O,E);let ie=!1;const ce=e=>{for(let t=0;t<15;t+=1)$[t].textContent=g[e].topClues[t],q[t].textContent=g[e].leftClues[t];T.innerText=g[e].name,((e,t)=>{let n=[],s=[];const l=e[t];for(let e=0;e<5;e+=1)for(let a=0;a<5;a+=1){P[e][a].classList.remove("cell--activ"),P[e][a].classList.remove("cell--active-cross");let o=!1,r=!1;E.addEventListener("click",(i=>{G=!0,i.target===P[e][a]&&(1===l.matrix[e][a]&&(o?(n.pop(1),o=!1):(n.push(1),o=!0)),0===l.matrix[e][a]&&(r?(s.pop(1),r=!1):(s.push(1),r=!0))),l.units===n.length&&0===s.length&&0!==l.units&&0!==n.length&&(y.textContent="Great! You have solved the nonogram in ".concat(C.innerHTML," seconds!"),V.play(),y.classList.add("victory-message--open"),U=[],ae(),ie||(te(t),ie=!0),ie=!1,n=[],s=[])}))}})(g,e),oe(Y)};o.addEventListener("change",(()=>{F=o.value,ce(F),E.addEventListener("click",le,{once:j},(()=>{j=!1})),U=[],W.play()})),r.addEventListener("click",(()=>{oe(Y),j=!0,E.addEventListener("click",le,{once:j},(()=>{j=!1})),W.play()})),i.addEventListener("click",(()=>{((e,t)=>{const n=e[F];for(let e=0;e<t;e+=1)for(let s=0;s<t;s+=1)P[e][s].classList.contains("cell--activ")&&P[e][s].classList.remove("cell--activ"),1===n.matrix[e][s]&&P[e][s].classList.add("cell--activ")})(g,Y),W.play()})),c.addEventListener("click",(()=>{ce((()=>{const e=Math.floor(Math.random()*g.length);return F=e,e})()),E.addEventListener("click",le,{once:j},(()=>{j=!1})),W.play(),U=[]})),d.addEventListener("click",(()=>{H?(Q.volume=.4,z.volume=.4,K.volume=.4,V.volume=.4,W.volume=.4,d.innerText="sound off",H=!1):(Q.volume=0,z.volume=0,K.volume=0,V.volume=0,W.volume=0,H=!0,d.innerText="sound on"),W.play()})),E.addEventListener("click",le,{once:j},(()=>{j=!1})),p.addEventListener("click",(()=>{G&&(m.disabled=!1,localStorage.removeItem("clicks"),localStorage.setItem("game",JSON.stringify(F)),localStorage.setItem("clicks",JSON.stringify(U)),localStorage.setItem("arrayGuessedCells",JSON.stringify(B)),localStorage.setItem("arrayEmptyCells",JSON.stringify(R)),U=[],B=[],R=[],W.play(),G=!1)})),m.addEventListener("click",(()=>{W.play(),(()=>{F=JSON.parse(localStorage.getItem("game")),ce(F);for(const e of JSON.parse(localStorage.getItem("clicks")))P[e[0]][e[1]].classList.add("cell--activ");B=JSON.parse(localStorage.getItem("arrayGuessedCells")),R=JSON.parse(localStorage.getItem("arrayEmptyCells"))})()})),v.addEventListener("click",(()=>{W.play(),f.classList.contains("theme")?(f.classList.remove("theme"),v.innerText="dark theme"):(f.classList.add("theme"),v.innerText="light theme")}))})()})();